<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="m0re"><meta name="copyright" content="m0re"><meta name="generator" content="Hexo 5.1.0"><meta name="theme" content="hexo-theme-yun"><title>m0re的小站</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="none" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.19/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_stqaphw3j4.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.css"><script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.min.js"></script><script>document.addEventListener("DOMContentLoaded", function() {
  renderMathInElement(document.body, {
    delimiters: [
      {left: "$$", right: "$$", display: true},
      {left: "$", right: "$", display: false},
      {left: "\\(", right: "\\)", display: false},
      {left: "\\[", right: "\\]", display: true}
    ]
  });
});</script><link rel="shortcut icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"root":"/","title":"人生路漫漫","version":"0.9.7","anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"local_search":{"path":"/search.xml"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><meta name="description" content="图像处理裁剪与缩放裁剪：利用imagecopyresampled()函数，imagecopyresampled(dst_image, src_image, dst_x, dst_y, src_x, src_y, dst_w, dst_h, src_w, src_h)函数参数说明：dst_image：目标图象src_image：源图像资源（要采集的那个图像资源）dst_x, dst_y：确定一个坐标">
<meta property="og:type" content="article">
<meta property="og:title" content="m0re的小站">
<meta property="og:url" content="https://zxcv0221.github.io/2020/08/23/php%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E2%80%94%E2%80%94%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/index.html">
<meta property="og:site_name" content="m0re的小站">
<meta property="og:description" content="图像处理裁剪与缩放裁剪：利用imagecopyresampled()函数，imagecopyresampled(dst_image, src_image, dst_x, dst_y, src_x, src_y, dst_w, dst_h, src_w, src_h)函数参数说明：dst_image：目标图象src_image：源图像资源（要采集的那个图像资源）dst_x, dst_y：确定一个坐标">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200418175239707.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200419091832554.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200419133339961.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200419145951197.jpg">
<meta property="article:published_time" content="2020-08-23T08:31:57.598Z">
<meta property="article:modified_time" content="2020-04-19T07:03:17.438Z">
<meta property="article:author" content="m0re">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/20200418175239707.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="m0re"><img width="96" loading="lazy" src="/img/avatar.jpg" alt="m0re"></a><div class="site-author-name"><a href="/about/">m0re</a></div><a class="site-name" href="/about/site.html">m0re的小站</a><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">63</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">0</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">1</span></a></div><a class="site-state-item hty-icon-button" href="/custom/" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/zxcv0221" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://blog.csdn.net/qq_45836474" title="CSDN" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.cnblogs.com/Augenstern-blog/" title="博客园" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-user-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/ISm0r3" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:wfulaj4y@gmail.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86"><span class="toc-number">1.</span> <span class="toc-text">图像处理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A3%81%E5%89%AA%E4%B8%8E%E7%BC%A9%E6%94%BE"><span class="toc-number">1.1.</span> <span class="toc-text">裁剪与缩放</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C"><span class="toc-number">2.</span> <span class="toc-text">文件与目录操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%99%AE%E9%80%9A%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95"><span class="toc-number">2.1.</span> <span class="toc-text">判断普通文件和目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7"><span class="toc-number">2.2.</span> <span class="toc-text">文件属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">2.3.</span> <span class="toc-text">目录的基本操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">2.4.</span> <span class="toc-text">文件的基本操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="toc-number">2.5.</span> <span class="toc-text">文件上传</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E4%B8%8B%E8%BD%BD"><span class="toc-number">2.6.</span> <span class="toc-text">文件的下载</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BC%9A%E8%AF%9D%E6%8E%A7%E5%88%B6"><span class="toc-number">3.</span> <span class="toc-text">会话控制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#cookie"><span class="toc-number">3.1.</span> <span class="toc-text">cookie</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#session"><span class="toc-number">3.2.</span> <span class="toc-text">session</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8Ecookie%E5%92%8Csession%E7%9A%84%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2"><span class="toc-number">3.3.</span> <span class="toc-text">基于cookie和session的登录页面</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8Ecookie"><span class="toc-number">3.3.1.</span> <span class="toc-text">基于cookie</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8Esession"><span class="toc-number">3.3.2.</span> <span class="toc-text">基于session</span></a></li></ol></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://zxcv0221.github.io/2020/08/23/php%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E2%80%94%E2%80%94%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="m0re"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="m0re的小站"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"></h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="创建时间：2020-08-23 16:31:57" itemprop="dateCreated datePublished" datetime="2020-08-23T16:31:57+08:00">2020-08-23</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="修改时间：2020-04-19 15:03:17" itemprop="dateModified" datetime="2020-04-19T15:03:17+08:00">2020-04-19</time></div><span class="leancloud_visitors" id="/2020/08/23/php%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E2%80%94%E2%80%94%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/" data-flag-title=""><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读次数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span class="leancloud-visitors-count"></span></span></span><div class="post-classify"></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h1 id="图像处理"><a href="#图像处理" class="headerlink" title="图像处理"></a>图像处理</h1><h2 id="裁剪与缩放"><a href="#裁剪与缩放" class="headerlink" title="裁剪与缩放"></a>裁剪与缩放</h2><p>裁剪：<br>利用<code>imagecopyresampled()</code>函数，<br><code>imagecopyresampled(dst_image, src_image, dst_x, dst_y, src_x, src_y, dst_w, dst_h, src_w, src_h)</code><br>函数参数说明：<br>dst_image：目标图象<br>src_image：源图像资源（要采集的那个图像资源）<br>dst_x, dst_y：确定一个坐标，把采样到的部分，放到目标图像资源的什么位置。<br>src_x, src_y：确定一个坐标，确定一个坐标，（是要采样的原图像资源的某个部分的起始坐标）<br>dst_w, dst_h：确定放在目标图象资源上的尺寸<br>src_w, src_h：确定了裁剪部分的尺寸。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">header(<span class="string">&#x27;Content-type:image/jpeg&#x27;</span>);</span><br><span class="line">$img=imagecreatefromjpeg(<span class="string">&#x27;images/2.jpg&#x27;</span>);</span><br><span class="line">$img1=imagecreatetruecolor(<span class="number">300</span>, <span class="number">300</span>);</span><br><span class="line">imagecopyresampled($img1, $img, <span class="number">100</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">200</span>, <span class="number">200</span>, <span class="number">200</span>, <span class="number">200</span>);</span><br><span class="line">imagejpeg($img1);</span><br><span class="line">imagedestroy($img1);<span class="comment">//两个都要销毁。</span></span><br><span class="line">imagedestroy($img);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>缩放：<br>demo示例：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">header(<span class="string">&#x27;Content-type:image/jpeg&#x27;</span>);</span><br><span class="line">$width=<span class="number">200</span>;</span><br><span class="line">$img=imagecreatefromjpeg(<span class="string">&#x27;images/2.jpg&#x27;</span>);</span><br><span class="line">$imgWidth=imagesx($img);<span class="comment">//得到源图像（需要缩小的图片）的x轴坐标</span></span><br><span class="line">$imgHeight=imagesy($img);<span class="comment">//得到源图像（需要缩小的图片）的y轴坐标</span></span><br><span class="line">$height=$width/($imgWidth/$imgHeight);<span class="comment">//确定放到目标图象上的尺寸，这里是全部放上去。所以是整个图片的尺寸</span></span><br><span class="line">$img1=imagecreatetruecolor($width, $height);创建一个与源图像尺寸相同的图像。</span><br><span class="line">imagecopyresampled($img1, $img, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, $width, $height, $imgWidth, $imgHeight);</span><br><span class="line">imagejpeg($img1);</span><br><span class="line">imagedestroy($img1);</span><br><span class="line">imagedestroy($img);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>上面为缩小示例，等比例缩放，不仅是尺寸缩小了，而且它的图片所占空间（大小）也变小了。则用HTML的CSS进行缩小的时候，他的所占空间大小是不会变的，而且画质可能会有变化。</p>
<h1 id="文件与目录操作"><a href="#文件与目录操作" class="headerlink" title="文件与目录操作"></a>文件与目录操作</h1><p>PHP可以在服务器上生成目录、创建、编辑、删除、修改文件属性等操作</p>
<h2 id="判断普通文件和目录"><a href="#判断普通文件和目录" class="headerlink" title="判断普通文件和目录"></a>判断普通文件和目录</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> is_file()<span class="comment">//判断给定文件名是否为一个正常的文件</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> is_dir()<span class="comment">//判断给定文件名是否为一个目录</span></span><br></pre></td></tr></table></figure>

<h2 id="文件属性"><a href="#文件属性" class="headerlink" title="文件属性"></a>文件属性</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> file_exists()<span class="comment">//检查文件或目录是否存在(返回true或false)</span></span><br><span class="line"><span class="number">2.</span> filesize()<span class="comment">//取得普通文件大小(单位是字节)//参数放文件名或文件路径</span></span><br><span class="line"><span class="number">3.</span> is_readable()<span class="comment">//判断给定的文件是否可读</span></span><br><span class="line"><span class="number">4.</span> is_writeable()<span class="comment">//判断给定文件是否可写</span></span><br><span class="line"><span class="number">5.</span> filectime()<span class="comment">//获取文件的创建时间</span></span><br><span class="line"><span class="number">6.</span> filemtime()<span class="comment">//获取文件的修改时间</span></span><br><span class="line"><span class="number">7.</span> fileatime()<span class="comment">//获取文件的上次访问时间</span></span><br><span class="line"><span class="number">8.</span> stat()<span class="comment">//获取文件大部分属性值</span></span><br></pre></td></tr></table></figure>

<h2 id="目录的基本操作"><a href="#目录的基本操作" class="headerlink" title="目录的基本操作"></a>目录的基本操作</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> basename()<span class="comment">//返回路径中的文件名部分</span></span><br><span class="line"><span class="number">2.</span> dirname()<span class="comment">//返回路径中的目录部分</span></span><br><span class="line"><span class="number">3.</span> pathinfo()<span class="comment">//返回文件路径的信息</span></span><br><span class="line"><span class="number">4.</span> opendir()<span class="comment">//打开目录句柄</span></span><br><span class="line"><span class="number">5.</span> readdir()<span class="comment">//从目录句柄中读取条目，返回目录中下一个文件的文件名</span></span><br><span class="line"><span class="number">6.</span> rewinddir()<span class="comment">//倒回目录句柄</span></span><br><span class="line"><span class="number">7.</span> closedir()<span class="comment">//关闭目录句柄</span></span><br><span class="line"><span class="number">8.</span> mkdir()<span class="comment">//新建目录</span></span><br><span class="line"><span class="number">9.</span> rmdir()<span class="comment">//删除指定的空目录</span></span><br><span class="line"><span class="number">10.</span> scandir()<span class="comment">//列出指定路径中的文件和目录</span></span><br></pre></td></tr></table></figure>

<h2 id="文件的基本操作"><a href="#文件的基本操作" class="headerlink" title="文件的基本操作"></a>文件的基本操作</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> fopen()<span class="comment">//打开文件或者URL</span></span><br><span class="line"><span class="number">2.</span> fread()<span class="comment">//读取文件</span></span><br><span class="line"><span class="number">3.</span> fgets()<span class="comment">//从文件指针中读取一行</span></span><br><span class="line"><span class="number">4.</span> feof()<span class="comment">//测试文件指针是否到了文件结束的位置</span></span><br><span class="line"><span class="number">5.</span> fwrite()<span class="comment">//写入文件   返回值为写入的字节数</span></span><br><span class="line"><span class="number">6.</span> rewind()<span class="comment">//倒回文件指针的位置</span></span><br><span class="line"><span class="number">7.</span> flock()<span class="comment">//轻便的咨询文件锁定</span></span><br><span class="line"><span class="number">8.</span> ftruncate()<span class="comment">//将文件截断到给定的长度</span></span><br><span class="line"><span class="number">9.</span> fclose()<span class="comment">//关闭一个已打开的文件指针</span></span><br><span class="line"><span class="number">10.</span> file()<span class="comment">//将整个文件读入一个数组中</span></span><br><span class="line"><span class="number">11.</span> copy()<span class="comment">//拷贝文件</span></span><br><span class="line"><span class="number">12.</span> unlink()<span class="comment">//删除文件</span></span><br><span class="line"><span class="number">13.</span> file_get_contents()<span class="comment">//将整个文件读入一个字符串</span></span><br><span class="line"><span class="number">14.</span> file_put_contents()<span class="comment">//将字符串写入文件中</span></span><br><span class="line"><span class="number">15.</span> rename()<span class="comment">//重命名一个文件或目录</span></span><br><span class="line"><span class="number">16.</span> readfile()<span class="comment">// 读入一个文件并写入到输出缓冲</span></span><br><span class="line"><span class="number">17.</span> fseek()<span class="comment">//在文件指针中定位</span></span><br></pre></td></tr></table></figure>

<h2 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h2><p>文见上传的过程是自动的，不需要管。上传的文件默认是放在一个临时的目录里面的，要做的就是把临时目录里的文件移动到需要它的地方就可以了。</p>
<p>1.html标签需要做的上传设置</p>
<blockquote>
<p>form标签属性设置</p>
<ul>
<li><p>method设置为post</p>
</li>
<li><p>enctype设置为multipart/form-data</p>
</li>
<li><p>form表单中设置隐藏类型的input其中name值设置为MAX_FILE_SIZE,value值设置为需要限制的上传文件的大小</p>
</li>
</ul>
</blockquote>
<p>2.在服务器端通过PHP处理上传文件，设计以下几条信息</p>
<p>在phpstudy中的设置路径：<code>D:\phpStudy\PHPTutorial\php\php-5.4.45-nts</code></p>
<blockquote>
<p>配置项                                可能值                         功能描述<br>file_uploads                      On                     确定服务器上的PHP脚本是否可以接受http文件上传<br>memory_limit                  128M                 设置脚本可以分配的最大内存量，防止失控的脚本独占服务器内存<br>upload_max_filesize       2M                     限制PHP处理上传文件的最大值，此值必须小于post_max_size的值<br>post_max_size                 8M                     限制通过POST方法可以接受的信息最大量<br>upload_tmp_dir            没有设定，自己设置一下         文件上传存放的临时路径，可以是一个绝对路径，这个目录对于拥有此服务器进程用户必须是可写的。</p>
</blockquote>
<p><code>$_FILES</code>多维数组，用于存储各种与上传有关的信息</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$_FILES[<span class="string">&#x27;file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>]				客户端机器文件的原名称，包含扩展名</span><br><span class="line">$_FILES[<span class="string">&#x27;file&#x27;</span>][<span class="string">&#x27;size&#x27;</span>]				已上传文件的大小，单位为字节</span><br><span class="line">$_FILES[<span class="string">&#x27;file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>]			文件上传之后，在服务器端存储的临时文件</span><br><span class="line">$_FILES[<span class="string">&#x27;file&#x27;</span>][<span class="string">&#x27;error&#x27;</span>]			文件上传时产生的错误</span><br><span class="line">    <span class="number">0</span>：表示没有发生任何错误，文件上传成功</span><br><span class="line">    <span class="number">1</span>：表示上传文件的大小超出在PHP配置文件中upload_max_filesize选项限制的值</span><br><span class="line">    <span class="number">2</span>：表示上传文件大小超出了HTML表单中MAX_FILE_SIZE选项所指定的值。</span><br><span class="line">    <span class="number">3</span>：表示文件只被部分上传</span><br><span class="line">    <span class="number">4</span>：表示没有上传任何文件</span><br><span class="line">$_FILES[<span class="string">&#x27;file&#x27;</span>][<span class="string">&#x27;type&#x27;</span>]				获取客户端上传文件的MIME类型，MIME类型规定了各种文件格式的类型，每种MIME类型都是由/分隔的主类型和子类型组成</span><br></pre></td></tr></table></figure>

<p>PHP的文见上传处理函数，用于上传文件的后续处理</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">is_uploaded_file()判断指定的文件是否通过http post上传的</span><br><span class="line">move_uploaded_file()文件上传后，首先会储存于服务器的临时目录中，可以使用该函数将上传的文件移动到新位置</span><br></pre></td></tr></table></figure>

<h2 id="文件的下载"><a href="#文件的下载" class="headerlink" title="文件的下载"></a>文件的下载</h2><p>1.发送指定的文件MIME类型的头信息</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">header(<span class="string">&#x27;Content-type:MIME类型&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>2.指定下载文件的描述</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">header(<span class="string">&#x27;Content-Disposition:attachement;filename=文件名称&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>3.指定下载文件的大小</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">header(<span class="string">&#x27;Content-Length:文件大小&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>4.读取文件内容至输出缓冲区</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readfile();</span><br></pre></td></tr></table></figure>

<p>关于<code>fileinfo</code>扩展。可以用来返回文件的MIME类型</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$fileinfo=finfo_open(FILEINFO_MIME_TYPE);</span><br></pre></td></tr></table></figure>

<p>打开资源，最后要记得用<code>fileinfo_close()</code>释放掉资源</p>
<h1 id="会话控制"><a href="#会话控制" class="headerlink" title="会话控制"></a>会话控制</h1><h2 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h2><p>关于记录什么的，随时看随时学，只这一条链接就够了<br><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/cookie/1119?fr=aladdin">cookie百度百科</a><br><img src="https://img-blog.csdnimg.cn/20200418175239707.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="Augenstern" loading="lazy"><br>1.向客户端电脑中设置cookie<br><code>setcookie()</code><br>2.在服务器端上读取cookie的内容<br><code>$_COOKIE</code><br>3.将多维数组应用于cookie中</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setcookie(<span class="string">&quot;member[name]&quot;</span>,<span class="string">&#x27;j4y&#x27;</span>);</span><br><span class="line">setcookie(<span class="string">&quot;member[email]&quot;</span>,<span class="string">&#x27;123456789@qq.com&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>4.删除cookie</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setcookie(<span class="string">&quot;member&quot;</span>,time()<span class="number">-1</span>);<span class="comment">//时间单位是秒。</span></span><br><span class="line"><span class="comment">//补充</span></span><br><span class="line">setcookie()有第四个参数，设定有效存放路径“/”表示web根目录，web下的所有目录有效。</span><br><span class="line">默认目录是当前目录。</span><br></pre></td></tr></table></figure>
<h2 id="session"><a href="#session" class="headerlink" title="session"></a>session</h2><p>session技术与cookie相似，用来储存使用者的相关资料，但是最大的不同之处在于Cookie是将资料储存在客户端电脑中，而Session则是将数据存放在服务器上。<br><img src="https://img-blog.csdnimg.cn/20200419091832554.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="Augenstern" loading="lazy"><br>1.开启session</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session_start();</span><br></pre></td></tr></table></figure>
<p>开启一个会话，或者打开一个已存在的会话。<br>2.使用session存储数据</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">session_start();</span><br><span class="line">$_SESSION[<span class="string">&#x27;username&#x27;</span>]=<span class="string">&#x27;j4y&#x27;</span>;</span><br><span class="line">$_SESSION[<span class="string">&#x27;email&#x27;</span>]=<span class="string">&#x27;123456789@qq.com&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>3.注销变量与销毁session</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">session_start();<span class="comment">//打开要销毁的会话</span></span><br><span class="line">session_unset();<span class="comment">//free all session variables</span></span><br><span class="line">session_destory();<span class="comment">//销毁一个会话中的全部数据</span></span><br><span class="line">setcookie(session_name(),<span class="string">&#x27;&#x27;</span>,time()<span class="number">-3600</span>);<span class="comment">//销毁保存在客户端的卡号（即session_id）</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="基于cookie和session的登录页面"><a href="#基于cookie和session的登录页面" class="headerlink" title="基于cookie和session的登录页面"></a>基于cookie和session的登录页面</h2><h3 id="基于cookie"><a href="#基于cookie" class="headerlink" title="基于cookie"></a>基于cookie</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//login.php</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">header(<span class="string">&#x27;Content-type:text/html;charset=utf-8&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>]))&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;username&#x27;</span>]) &amp;&amp; <span class="keyword">isset</span>($_POST[<span class="string">&#x27;password&#x27;</span>]) &amp;&amp; $_POST[<span class="string">&#x27;username&#x27;</span>]===<span class="string">&#x27;j4y&#x27;</span> &amp;&amp; $_POST[<span class="string">&#x27;password&#x27;</span>]===<span class="string">&#x27;123456&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> (setcookie(<span class="string">&#x27;username&#x27;</span>,$_POST[<span class="string">&#x27;username&#x27;</span>],time()+<span class="number">3600</span>))&#123;</span><br><span class="line">            header(<span class="string">&#x27;Location:1.php&#x27;</span>);<span class="comment">//跳转到指定网页</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&#x27;cookie设置失败！&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;对不起，登录失败，请检查您的用户名或者密码是否正确，注意密码安全，嘻嘻！&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;zh-CN&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;utf-8&quot;</span> /&gt;</span><br><span class="line">    &lt;title&gt;请登录&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;login.php&quot;</span>&gt;</span><br><span class="line">    姓名：&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span> /&gt;</span><br><span class="line">    密码：&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;password&quot;</span> /&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> name=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;登录&quot;</span> /&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20200419133339961.png" alt="Augenstern" loading="lazy"></p>
<h3 id="基于session"><a href="#基于session" class="headerlink" title="基于session"></a>基于session</h3><p>登录页面</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//login.php</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">session_start();</span><br><span class="line">header(<span class="string">&#x27;Content-type:text/html;charset=utf-8&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_SESSION[<span class="string">&#x27;username&#x27;</span>]) &amp;&amp; $_SESSION[<span class="string">&#x27;username&#x27;</span>]===<span class="string">&#x27;j4y&#x27;</span>)&#123;</span><br><span class="line">    <span class="keyword">exit</span>(<span class="string">&#x27;您已登录，请不要重复登录&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>]))&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;username&#x27;</span>]) &amp;&amp; <span class="keyword">isset</span>($_POST[<span class="string">&#x27;password&#x27;</span>]) &amp;&amp; $_POST[<span class="string">&#x27;username&#x27;</span>]===<span class="string">&#x27;j4y&#x27;</span> &amp;&amp; $_POST[<span class="string">&#x27;password&#x27;</span>]===<span class="string">&#x27;123456&#x27;</span>)&#123;</span><br><span class="line">        $_SESSION[<span class="string">&#x27;username&#x27;</span>]=$_POST[<span class="string">&#x27;username&#x27;</span>];</span><br><span class="line">        header(<span class="string">&#x27;Location:skip.php?url=j4y.php&amp;info=登录成功，正在跳转中····&#x27;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;对不起，登录失败，请检查您的用户名或者密码是否正确，注意密码安全，嘻嘻！&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;zh-CN&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;utf-8&quot;</span> /&gt;</span><br><span class="line">    &lt;title&gt;请登录&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;login.php&quot;</span>&gt;</span><br><span class="line">    姓名：&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span> /&gt;</span><br><span class="line">    密码：&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;password&quot;</span> /&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> name=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;登录&quot;</span> /&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>登录进去后显示的页面</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//j4y.php</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">session_start();</span><br><span class="line">header(<span class="string">&#x27;Content-type:text/html;charset=utf-8&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_SESSION[<span class="string">&#x27;username&#x27;</span>]) &amp;&amp; $_SESSION[<span class="string">&#x27;username&#x27;</span>]===<span class="string">&#x27;j4y&#x27;</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;欢迎回来！&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;a href=&#x27;logout.php&#x27;&gt;注销&lt;/a&gt;&quot;</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;a href=&#x27;login.php&#x27;&gt;请登录&lt;/a&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>登出(注销)页面</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//logout.php</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">session_start();</span><br><span class="line">header(<span class="string">&#x27;Content-type:text/html;charset=utf-8&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_SESSION[<span class="string">&#x27;username&#x27;</span>]) &amp;&amp; $_SESSION[<span class="string">&#x27;username&#x27;</span>]===<span class="string">&#x27;j4y&#x27;</span>)&#123;</span><br><span class="line">    session_unset();</span><br><span class="line">    session_destroy();</span><br><span class="line">    setcookie(session_name(),<span class="string">&#x27;&#x27;</span>,time()<span class="number">-3600</span>,<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">    header(<span class="string">&#x27;Location:skip.php?url=j4y.php&amp;info=注销成功，正在跳转中···&#x27;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    header(<span class="string">&#x27;Location:skip.php?url=j4y.php&amp;info=注销失败，请您检查网络连接是否成功，并稍后再试！&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>跳转页面</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//skip.php</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">isset</span>($_GET[<span class="string">&#x27;url&#x27;</span>]) || !<span class="keyword">isset</span>($_GET[<span class="string">&#x27;info&#x27;</span>]))&#123;</span><br><span class="line">	<span class="keyword">exit</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;zh-CN&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset=<span class="string">&quot;utf-8&quot;</span> /&gt;</span><br><span class="line">	&lt;meta http-equiv=<span class="string">&quot;refresh&quot;</span> content=<span class="string">&quot;3;URL=&lt;?php echo $_GET[&#x27;url&#x27;]?&gt;&quot;</span>&gt;</span><br><span class="line">	&lt;title&gt;正在跳转中···&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;div style=<span class="string">&quot;text-align: center;font-size: 20px;&quot;</span>&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> $_GET[<span class="string">&#x27;info&#x27;</span>] <span class="meta">?&gt;</span><span class="number">3</span>秒后自动跳转！&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>经过这次学习，学到了很多有趣的东西，虽然同样是我不喜欢的敲代码，但是不知道为什么，我自己学编程语言，会有点成就感，又学到了技能，感觉很充实。继续加油。<br>            <img src="https://img-blog.csdnimg.cn/20200419145951197.jpg" alt="Augenstern" loading="lazy"></p>
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="打赏" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">I'm so cute. Please give me a candy.</div><div id="qr" style="display:none;"><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://images.cnblogs.com/cnblogs_com/Augenstern-blog/1822695/o_200806164747m0re2020-08-07_00-47-30.jpg"><img loading="lazy" src="https://images.cnblogs.com/cnblogs_com/Augenstern-blog/1822695/o_200806164747m0re2020-08-07_00-47-30.jpg" alt="支付宝" title="支付宝"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://images.cnblogs.com/cnblogs_com/Augenstern-blog/1822695/o_200806164656mm_reward_qrcode_1596729168536.png"><img loading="lazy" src="https://images.cnblogs.com/cnblogs_com/Augenstern-blog/1822695/o_200806164656mm_reward_qrcode_1596729168536.png" alt="微信支付" title="微信支付"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>m0re</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://zxcv0221.github.io/2020/08/23/php%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E2%80%94%E2%80%94%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/" title="">https://zxcv0221.github.io/2020/08/23/php%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E2%80%94%E2%80%94%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> 许可协议。</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2020/08/23/php%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E2%80%94%E2%80%94%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89/" rel="prev" title=""><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text"></span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2020/08/23/PHP%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E2%80%94%E2%80%94%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/" rel="next" title=""><span class="post-nav-text"></span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div id="comment"><div class="comment-tooltip text-center"><span>尝试使用 utterances （基于 GitHub Issues）评论系统。</span><br><span>您可以点击下方按钮切换对应评论系统，</span><br><span><script>function showUtterances(){ document.querySelector(".utterances").style.display='block'; document.querySelector('#valine-container').style.display='none'; }function showValine(){ document.querySelector('#valine-container').style.display='block'; document.querySelector(".utterances").style.display='none'; }</script></span><br><span><a class="hty-button hty-button--raised" onclick="showValine()">Valine</a><a class="hty-button hty-button--raised" onclick="showUtterances()">utterances</a></span><br><span><style>.utterances{display:none;}</style></span><br></div><div id="valine-container"></div><script src="https://cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script><script>function initValine() {
  const valineConfig = {"enable":true,"appId":"gUEA9zKLhCnMFxQI5kI20WiD-gzGzoHsz","appKey":"GQKAp04LNloy3MrDMv86MI3i","placeholder":"评论一下~&nbsp_(:з」∠)_ （填写邮箱可以收到回复通知～）","avatar":null,"pageSize":10,"visitor":true,"highlight":true,"recordIP":true,"enableQQ":true,"requiredFields":["nick","mail"],"el":"#valine-container","lang":"zh-cn"}
  valineConfig.path = window.location.pathname
  new Valine(valineConfig)
}
setTimeout(initValine, 1000)</script></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 – 2020 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> m0re</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v5.1.0</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v0.9.7</span></div><div class="live_time"><span>本博客已苟延残喘了</span><span id="display_live_time"></span><span class="moe-text">(●'◡'●)</span><script>function blog_live_time() {
  window.setTimeout(blog_live_time, 1000);
  const start = new Date('2020-02-21T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " 天 " + passHour + " 小时 " + passMinute + " 分 " + passSecond + " 秒";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="搜索"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="这里可以搜索本站内容~" value=""></div><div id="local-search-result"></div></div><script>let date = new Date();
let today = (date.getMonth() + 1) + "-" + date.getDate()
if ("4-4,9-18".indexOf(today) !== -1) {
  document.documentElement.style.filter = "grayscale(1)";
}</script></div><script defer src="/js/utils.js"></script><script defer src="/js/hexo-theme-yun.js"></script></body></html>